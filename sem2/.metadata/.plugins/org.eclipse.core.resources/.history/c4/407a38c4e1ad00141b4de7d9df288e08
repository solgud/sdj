package cd.controller;

import cd.domain.mediator.CdModel;
import cd.domain.model.Cd;
import cd.domain.model.CdList;
import cd.view.CdView;

public class CdController 
{
	private CdModel model;
	private CdView view;

	public CdController(CdModel model, CdView view)
	{
		this.model = model;
		this.view = view;
	}
	
	public void execute(String what)
	{
      do
      {
         switch (what)
         {
            case "List":
               this.view.show("" + this.cdList);
               break;
            case "Add":
               this.view.show("Add method - not implemented");
               break;
            case "Remove":
               String input = this.view.get("Title");
               if (input.length() == 0)
                  return;
               String msg = "";
               Cd cd = cdList.removeFirstCdByTitle(input);
               if (cd != null)
               {
                  msg = "REMOVED: \n" + cd.toString();
               }
               else
               {
                  msg = "No CD with title: \"" + input + "\" found";
               }
               this.view.show(msg);
               break;
            case "Search":
               input = this.view.get("Title");
               if (input == null)
                  return;
               msg = "";
               CdList list = cdList.getCdsByTitle(input);
               for (int i = 0; i < list.getNumberOfCds(); i++)
               {
                  msg += list.getCD(i) + "\n";
               }
               if (list.getNumberOfCds() == 0)
               {
                  msg = "No CD with title: \"" + input + "\" found";
               }
               this.view.show(msg);
               break;
            case "Quit":
               System.out.println("Quit");
               break;
            default:
               this.view.show("Wrong input");
               break;
         }
         System.out.println("\nPress ENTER to continue...");
         in.nextLine();
      }
      while (!what.equals("Quit"));
		
	}
}
